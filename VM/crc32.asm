data
export crc_table
align 4
LABELV crc_table
byte 4 0
byte 4 1996959894
byte 4 3993919788
byte 4 2567524794
byte 4 124634137
byte 4 1886057615
byte 4 3915621685
byte 4 2657392035
byte 4 249268274
byte 4 2044508324
byte 4 3772115230
byte 4 2547177864
byte 4 162941995
byte 4 2125561021
byte 4 3887607047
byte 4 2428444049
byte 4 498536548
byte 4 1789927666
byte 4 4089016648
byte 4 2227061214
byte 4 450548861
byte 4 1843258603
byte 4 4107580753
byte 4 2211677639
byte 4 325883990
byte 4 1684777152
byte 4 4251122042
byte 4 2321926636
byte 4 335633487
byte 4 1661365465
byte 4 4195302755
byte 4 2366115317
byte 4 997073096
byte 4 1281953886
byte 4 3579855332
byte 4 2724688242
byte 4 1006888145
byte 4 1258607687
byte 4 3524101629
byte 4 2768942443
byte 4 901097722
byte 4 1119000684
byte 4 3686517206
byte 4 2898065728
byte 4 853044451
byte 4 1172266101
byte 4 3705015759
byte 4 2882616665
byte 4 651767980
byte 4 1373503546
byte 4 3369554304
byte 4 3218104598
byte 4 565507253
byte 4 1454621731
byte 4 3485111705
byte 4 3099436303
byte 4 671266974
byte 4 1594198024
byte 4 3322730930
byte 4 2970347812
byte 4 795835527
byte 4 1483230225
byte 4 3244367275
byte 4 3060149565
byte 4 1994146192
byte 4 31158534
byte 4 2563907772
byte 4 4023717930
byte 4 1907459465
byte 4 112637215
byte 4 2680153253
byte 4 3904427059
byte 4 2013776290
byte 4 251722036
byte 4 2517215374
byte 4 3775830040
byte 4 2137656763
byte 4 141376813
byte 4 2439277719
byte 4 3865271297
byte 4 1802195444
byte 4 476864866
byte 4 2238001368
byte 4 4066508878
byte 4 1812370925
byte 4 453092731
byte 4 2181625025
byte 4 4111451223
byte 4 1706088902
byte 4 314042704
byte 4 2344532202
byte 4 4240017532
byte 4 1658658271
byte 4 366619977
byte 4 2362670323
byte 4 4224994405
byte 4 1303535960
byte 4 984961486
byte 4 2747007092
byte 4 3569037538
byte 4 1256170817
byte 4 1037604311
byte 4 2765210733
byte 4 3554079995
byte 4 1131014506
byte 4 879679996
byte 4 2909243462
byte 4 3663771856
byte 4 1141124467
byte 4 855842277
byte 4 2852801631
byte 4 3708648649
byte 4 1342533948
byte 4 654459306
byte 4 3188396048
byte 4 3373015174
byte 4 1466479909
byte 4 544179635
byte 4 3110523913
byte 4 3462522015
byte 4 1591671054
byte 4 702138776
byte 4 2966460450
byte 4 3352799412
byte 4 1504918807
byte 4 783551873
byte 4 3082640443
byte 4 3233442989
byte 4 3988292384
byte 4 2596254646
byte 4 62317068
byte 4 1957810842
byte 4 3939845945
byte 4 2647816111
byte 4 81470997
byte 4 1943803523
byte 4 3814918930
byte 4 2489596804
byte 4 225274430
byte 4 2053790376
byte 4 3826175755
byte 4 2466906013
byte 4 167816743
byte 4 2097651377
byte 4 4027552580
byte 4 2265490386
byte 4 503444072
byte 4 1762050814
byte 4 4150417245
byte 4 2154129355
byte 4 426522225
byte 4 1852507879
byte 4 4275313526
byte 4 2312317920
byte 4 282753626
byte 4 1742555852
byte 4 4189708143
byte 4 2394877945
byte 4 397917763
byte 4 1622183637
byte 4 3604390888
byte 4 2714866558
byte 4 953729732
byte 4 1340076626
byte 4 3518719985
byte 4 2797360999
byte 4 1068828381
byte 4 1219638859
byte 4 3624741850
byte 4 2936675148
byte 4 906185462
byte 4 1090812512
byte 4 3747672003
byte 4 2825379669
byte 4 829329135
byte 4 1181335161
byte 4 3412177804
byte 4 3160834842
byte 4 628085408
byte 4 1382605366
byte 4 3423369109
byte 4 3138078467
byte 4 570562233
byte 4 1426400815
byte 4 3317316542
byte 4 2998733608
byte 4 733239954
byte 4 1555261956
byte 4 3268935591
byte 4 3050360625
byte 4 752459403
byte 4 1541320221
byte 4 2607071920
byte 4 3965973030
byte 4 1969922972
byte 4 40735498
byte 4 2617837225
byte 4 3943577151
byte 4 1913087877
byte 4 83908371
byte 4 2512341634
byte 4 3803740692
byte 4 2075208622
byte 4 213261112
byte 4 2463272603
byte 4 3855990285
byte 4 2094854071
byte 4 198958881
byte 4 2262029012
byte 4 4057260610
byte 4 1759359992
byte 4 534414190
byte 4 2176718541
byte 4 4139329115
byte 4 1873836001
byte 4 414664567
byte 4 2282248934
byte 4 4279200368
byte 4 1711684554
byte 4 285281116
byte 4 2405801727
byte 4 4167216745
byte 4 1634467795
byte 4 376229701
byte 4 2685067896
byte 4 3608007406
byte 4 1308918612
byte 4 956543938
byte 4 2808555105
byte 4 3495958263
byte 4 1231636301
byte 4 1047427035
byte 4 2932959818
byte 4 3654703836
byte 4 1088359270
byte 4 936918000
byte 4 2847714899
byte 4 3736837829
byte 4 1202900863
byte 4 817233897
byte 4 3183342108
byte 4 3401237130
byte 4 1404277552
byte 4 615818150
byte 4 3134207493
byte 4 3453421203
byte 4 1423857449
byte 4 601450431
byte 4 3009837614
byte 4 3294710456
byte 4 1567103746
byte 4 711928724
byte 4 3020668471
byte 4 3272380065
byte 4 1510334235
byte 4 755167117
export crc32
code
proc crc32 64 0
file "..\src\crc32.c"
line 85
;1:/*
;2: *  QWProgs-TF2003
;3: *  Copyright (C) 2005  [sd] angel
;4: *
;5: *
;6: *  This program is free software; you can redistribute it and/or modify
;7: *  it under the terms of the GNU General Public License as published by
;8: *  the Free Software Foundation; either version 2 of the License, or
;9: *  (at your option) any later version.
;10: *
;11: *  This program is distributed in the hope that it will be useful,
;12: *  but WITHOUT ANY WARRANTY; without even the implied warranty of
;13: *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;14: *  GNU General Public License for more details.
;15: *
;16: *  You should have received a copy of the GNU General Public License
;17: *  along with this program; if not, write to the Free Software
;18: *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;19: *
;20: *
;21: *  $Id: crc32.c,v 1.2 2005/11/28 18:30:57 AngelD Exp $ 
;22: */
;23:
;24:const unsigned int  crc_table[256] = {
;25:  0x00000000L, 0x77073096L, 0xee0e612cL, 0x990951baL, 0x076dc419L,
;26:  0x706af48fL, 0xe963a535L, 0x9e6495a3L, 0x0edb8832L, 0x79dcb8a4L,
;27:  0xe0d5e91eL, 0x97d2d988L, 0x09b64c2bL, 0x7eb17cbdL, 0xe7b82d07L,
;28:  0x90bf1d91L, 0x1db71064L, 0x6ab020f2L, 0xf3b97148L, 0x84be41deL,
;29:  0x1adad47dL, 0x6ddde4ebL, 0xf4d4b551L, 0x83d385c7L, 0x136c9856L,
;30:  0x646ba8c0L, 0xfd62f97aL, 0x8a65c9ecL, 0x14015c4fL, 0x63066cd9L,
;31:  0xfa0f3d63L, 0x8d080df5L, 0x3b6e20c8L, 0x4c69105eL, 0xd56041e4L,
;32:  0xa2677172L, 0x3c03e4d1L, 0x4b04d447L, 0xd20d85fdL, 0xa50ab56bL,
;33:  0x35b5a8faL, 0x42b2986cL, 0xdbbbc9d6L, 0xacbcf940L, 0x32d86ce3L,
;34:  0x45df5c75L, 0xdcd60dcfL, 0xabd13d59L, 0x26d930acL, 0x51de003aL,
;35:  0xc8d75180L, 0xbfd06116L, 0x21b4f4b5L, 0x56b3c423L, 0xcfba9599L,
;36:  0xb8bda50fL, 0x2802b89eL, 0x5f058808L, 0xc60cd9b2L, 0xb10be924L,
;37:  0x2f6f7c87L, 0x58684c11L, 0xc1611dabL, 0xb6662d3dL, 0x76dc4190L,
;38:  0x01db7106L, 0x98d220bcL, 0xefd5102aL, 0x71b18589L, 0x06b6b51fL,
;39:  0x9fbfe4a5L, 0xe8b8d433L, 0x7807c9a2L, 0x0f00f934L, 0x9609a88eL,
;40:  0xe10e9818L, 0x7f6a0dbbL, 0x086d3d2dL, 0x91646c97L, 0xe6635c01L,
;41:  0x6b6b51f4L, 0x1c6c6162L, 0x856530d8L, 0xf262004eL, 0x6c0695edL,
;42:  0x1b01a57bL, 0x8208f4c1L, 0xf50fc457L, 0x65b0d9c6L, 0x12b7e950L,
;43:  0x8bbeb8eaL, 0xfcb9887cL, 0x62dd1ddfL, 0x15da2d49L, 0x8cd37cf3L,
;44:  0xfbd44c65L, 0x4db26158L, 0x3ab551ceL, 0xa3bc0074L, 0xd4bb30e2L,
;45:  0x4adfa541L, 0x3dd895d7L, 0xa4d1c46dL, 0xd3d6f4fbL, 0x4369e96aL,
;46:  0x346ed9fcL, 0xad678846L, 0xda60b8d0L, 0x44042d73L, 0x33031de5L,
;47:  0xaa0a4c5fL, 0xdd0d7cc9L, 0x5005713cL, 0x270241aaL, 0xbe0b1010L,
;48:  0xc90c2086L, 0x5768b525L, 0x206f85b3L, 0xb966d409L, 0xce61e49fL,
;49:  0x5edef90eL, 0x29d9c998L, 0xb0d09822L, 0xc7d7a8b4L, 0x59b33d17L,
;50:  0x2eb40d81L, 0xb7bd5c3bL, 0xc0ba6cadL, 0xedb88320L, 0x9abfb3b6L,
;51:  0x03b6e20cL, 0x74b1d29aL, 0xead54739L, 0x9dd277afL, 0x04db2615L,
;52:  0x73dc1683L, 0xe3630b12L, 0x94643b84L, 0x0d6d6a3eL, 0x7a6a5aa8L,
;53:  0xe40ecf0bL, 0x9309ff9dL, 0x0a00ae27L, 0x7d079eb1L, 0xf00f9344L,
;54:  0x8708a3d2L, 0x1e01f268L, 0x6906c2feL, 0xf762575dL, 0x806567cbL,
;55:  0x196c3671L, 0x6e6b06e7L, 0xfed41b76L, 0x89d32be0L, 0x10da7a5aL,
;56:  0x67dd4accL, 0xf9b9df6fL, 0x8ebeeff9L, 0x17b7be43L, 0x60b08ed5L,
;57:  0xd6d6a3e8L, 0xa1d1937eL, 0x38d8c2c4L, 0x4fdff252L, 0xd1bb67f1L,
;58:  0xa6bc5767L, 0x3fb506ddL, 0x48b2364bL, 0xd80d2bdaL, 0xaf0a1b4cL,
;59:  0x36034af6L, 0x41047a60L, 0xdf60efc3L, 0xa867df55L, 0x316e8eefL,
;60:  0x4669be79L, 0xcb61b38cL, 0xbc66831aL, 0x256fd2a0L, 0x5268e236L,
;61:  0xcc0c7795L, 0xbb0b4703L, 0x220216b9L, 0x5505262fL, 0xc5ba3bbeL,
;62:  0xb2bd0b28L, 0x2bb45a92L, 0x5cb36a04L, 0xc2d7ffa7L, 0xb5d0cf31L,
;63:  0x2cd99e8bL, 0x5bdeae1dL, 0x9b64c2b0L, 0xec63f226L, 0x756aa39cL,
;64:  0x026d930aL, 0x9c0906a9L, 0xeb0e363fL, 0x72076785L, 0x05005713L,
;65:  0x95bf4a82L, 0xe2b87a14L, 0x7bb12baeL, 0x0cb61b38L, 0x92d28e9bL,
;66:  0xe5d5be0dL, 0x7cdcefb7L, 0x0bdbdf21L, 0x86d3d2d4L, 0xf1d4e242L,
;67:  0x68ddb3f8L, 0x1fda836eL, 0x81be16cdL, 0xf6b9265bL, 0x6fb077e1L,
;68:  0x18b74777L, 0x88085ae6L, 0xff0f6a70L, 0x66063bcaL, 0x11010b5cL,
;69:  0x8f659effL, 0xf862ae69L, 0x616bffd3L, 0x166ccf45L, 0xa00ae278L,
;70:  0xd70dd2eeL, 0x4e048354L, 0x3903b3c2L, 0xa7672661L, 0xd06016f7L,
;71:  0x4969474dL, 0x3e6e77dbL, 0xaed16a4aL, 0xd9d65adcL, 0x40df0b66L,
;72:  0x37d83bf0L, 0xa9bcae53L, 0xdebb9ec5L, 0x47b2cf7fL, 0x30b5ffe9L,
;73:  0xbdbdf21cL, 0xcabac28aL, 0x53b39330L, 0x24b4a3a6L, 0xbad03605L,
;74:  0xcdd70693L, 0x54de5729L, 0x23d967bfL, 0xb3667a2eL, 0xc4614ab8L,
;75:  0x5d681b02L, 0x2a6f2b94L, 0xb40bbe37L, 0xc30c8ea1L, 0x5a05df1bL,
;76:  0x2d02ef8dL
;77:};
;78:
;79:#define DO1(buf) crc = crc_table[((int)crc ^ (*buf++)) & 0xff] ^ (crc >> 8);
;80:#define DO2(buf)  DO1(buf); DO1(buf);
;81:#define DO4(buf)  DO2(buf); DO2(buf);
;82:#define DO8(buf)  DO4(buf); DO4(buf);
;83:
;84:unsigned int crc32(unsigned int crc, unsigned char* buf, int len)
;85:{
line 86
;86:    crc = crc ^ 0xffffffffL;
ADDRFP4 0
ADDRFP4 0
INDIRU4
CNSTU4 4294967295
BXORU4
ASGNU4
ADDRGP4 $3
JUMPV
LABELV $2
line 88
;87:    while (len >= 8)
;88:    {
line 89
;89:        DO8(buf);
ADDRLP4 0
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 0
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 4
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 4
INDIRU4
CVUI4 4
ADDRLP4 0
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 4
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 8
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 8
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 12
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 12
INDIRU4
CVUI4 4
ADDRLP4 8
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 12
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 16
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 16
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 20
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 20
INDIRU4
CVUI4 4
ADDRLP4 16
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 20
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 24
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 24
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 28
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 28
INDIRU4
CVUI4 4
ADDRLP4 24
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 28
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 32
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 32
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 36
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 36
INDIRU4
CVUI4 4
ADDRLP4 32
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 36
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 40
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 40
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 44
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 44
INDIRU4
CVUI4 4
ADDRLP4 40
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 44
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 48
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 48
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 52
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 52
INDIRU4
CVUI4 4
ADDRLP4 48
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 52
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
ADDRLP4 56
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 56
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 60
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 60
INDIRU4
CVUI4 4
ADDRLP4 56
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 60
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
line 90
;90:        len -= 8;
ADDRFP4 8
ADDRFP4 8
INDIRI4
CNSTI4 8
SUBI4
ASGNI4
line 91
;91:    }
LABELV $3
line 87
ADDRFP4 8
INDIRI4
CNSTI4 8
GEI4 $2
line 92
;92:    if (len) do
ADDRFP4 8
INDIRI4
CNSTI4 0
EQI4 $5
LABELV $7
line 93
;93:    {
line 94
;94:        DO1(buf);
ADDRLP4 0
ADDRFP4 4
INDIRP4
ASGNP4
ADDRFP4 4
ADDRLP4 0
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 4
ADDRFP4 0
INDIRU4
ASGNU4
ADDRFP4 0
ADDRLP4 4
INDIRU4
CVUI4 4
ADDRLP4 0
INDIRP4
INDIRU1
CVUI4 1
BXORI4
CNSTI4 255
BANDI4
CNSTI4 2
LSHI4
ADDRGP4 crc_table
ADDP4
INDIRU4
ADDRLP4 4
INDIRU4
CNSTI4 8
RSHU4
BXORU4
ASGNU4
line 95
;95:    }while (--len);
LABELV $8
ADDRLP4 0
ADDRFP4 8
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
ADDRFP4 8
ADDRLP4 0
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
NEI4 $7
LABELV $5
line 96
;96:    return crc ^ 0xffffffffL;
ADDRFP4 0
INDIRU4
CNSTU4 4294967295
BXORU4
RETU4
LABELV $1
endproc crc32 64 0
